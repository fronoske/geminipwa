# titan824による変更点
2025/05/12
テストの一環でモデルオプションにGemini 2.5 Pro Preview 05-06を追加（2025/05/12時点、Google Cloudに支払い方法登録をしなければ使用不可）、
各出入力の下部に、ピンク色のテキストコピーボタンを追加しました。
2025/05/13
ヘッダーへ「セッション削除ボタン」と「セッションコピーボタン」を追加しました。
ヘッダーに、一時的にテキストを置くためのメモ機能を追加しました。
各入出力の折りたたみボタンを追加しました。
1.  **メッセージバブルの背景透明度設定:**
    *   設定画面に0から1の範囲（例: 0.0～1.0、ステップ0.05）で入力できる数値フィールドを追加。
    *   この値に基づいて、ユーザーメッセージとモデルメッセージの背景の透明度を変更します（文字色は変更しない）。
2.  **ヘッダーとフッター（チャット入力エリア）の背景透明度設定:**
    *   設定画面に0から1の範囲で入力できる数値フィールドを追加。
    *   この値に基づいて、上部ヘッダーと下部チャット入力エリアの背景の透明度を変更します（文字色やアイコンの色は変更しない）。
ヘッダーに、「全表示/非表示(🖼️)」ボタンを追加しました。用途は背景画像の観賞用です。
コード量をなるべく抑えるため、コード内コメントを全削除しま
した。
※当該フォークは私用目的のため、性質上、サポートは行われません。当コードの公開・編集にあたって告知などは行いません。当コードはブラウザ上での使用を前提としており、ローカル環境での使用は考慮されていません。フォーク元コードの製作者様を除き、ご質問・ご意見・ご要望は承りません。また、当コードによって損害や影響が生じた場合においても、公開陣は一切の責任を負いません。当コードの利用基準（コードのフォーク、他コードへのコード流用など）は、当コードのフォーク元の基準に準じます。

# Gemini PWA Client

このリポジトリは、PWA（Progressive Web App）で作られたGemini APIのクライアントアプリケーションです。  
PWAとは実体がhtmlなだけの簡易アプリです。ブラウザがあれば使えます。
単純な文字チャット機能だけでファイルや画像関連の機能はありません。

## 使い方

Github Pagesで公開されたこのページにアクセスするだけです。  

[index.htmlへのリンク(Github Pages)](https://ona-oni.github.io/geminipwa/)
※このリポジトリの内容が静的にアクセスできる

1. GeminiのAPIキーを準備。
2. 上のリンクにアクセス。
3. 設定画面にGemini APIキーを設定して設定を保存。
4. チャット画面からチャット。

## PCのローカルでホストする
Webサイト上のは信用ならんからローカルで使いたい！という人はWindowsのみ下記の方法で使えます。
1. このリポジトリの全ファイルをダウンロードして同じフォルダ内に配置  
（サイト上部の緑の「Code」から「Download ZIP」）
2. __winlocal.batを起動
3. batのプロンプトが開いている間はローカルhttpサーバーからindex.htmlへアクセス可能

## ブラウザからPWAをアプリとしてインストール(任意)
PWAアプリとしてインストールするとアプリアイコンを作成できます。  
ブラウザにより挙動は違いますが、アドレスバーの横や設定ボタンなどから「XXをインストール」の項目を探してください。    
(モバイル用Chromeなら「ホーム画面に追加」が上記操作に相当）  
インストールしなくてもブラウザはPWAアプリをPWAアプリとして扱います。

## ファイルの説明
* manifest.json : PWAアプリの定義
* index.html : アプリそのもの
* sw.js : PWAサービスワーカー(PWAアプリとしてのファイルキャッシュなどを管理)
* marked.js : マークダウン表示用ライブラリ(MIT Lic)  

sw.jsのおかげで一度アクセスしたらブラウザ内に必要ファイル(「index.html」や「manifest.json」など)がキャッシュされる  
一度キャッシュされたら、設定から更新しない限り更新されない

## データの保存と通信について
* 設定やチャット履歴含む全てのデータはローカルのIndexedDBに保存されます。  
（ブラウザの中のデータベース。Github Pagesの当リポジトリのオリジン)
* 通信はGeminiAPIとしか行いません。(検索機能はGemini側の機能です)
* 履歴は履歴一覧からテキストファイルとしてエクスポートできます  
逆(インポート)は今のところ~~できません~~できます  
注:現状、アップロードされたファイルはエクスポートtxtには含まれません

## Dependencies
This project uses the following third-party libraries:

*   **Marked.js:** [MIT License](https://github.com/markedjs/marked/blob/master/LICENSE.md) - Used for rendering Markdown.
