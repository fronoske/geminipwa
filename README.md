# titan823によるフォーク版 GeminiPWA(ti) の変更点・仕様（2025年5月時点）
⚠️ストリーミング出力は現在使用できません
## ■ 利用方法（PWA）

本フォークのPWAはブラウザから以下のURLで利用可能です：
https://titan823.github.io/geminipwa/#chat

## ■ 更新履歴

### 【2025/05/12】
- モデルオプションに **Gemini 2.5 Pro Preview 05-06** を追加  
  ※Google Cloudに支払い方法の登録が必要です。
- 各出入力の下部に **ピンク色の「コピー」ボタン** を追加

### 【2025/05/13】
- ヘッダーに以下を追加：
  - セッション削除ボタン
  - セッションコピーボタン
  - メモ欄📝（テキスト一時保存用）
  - メッセージバブルの「**全表示/非表示（🖼️）**」ボタン（背景画像観賞用です）
  - 全セッションの一括インポート、一括エクスポートボタン
- 各メッセージに **折りたたみボタン** を追加

- **透明度設定の追加：**
  1. **メッセージバブルの透明度**
     - 設定画面に `0.0～1.0` の数値フィールドを追加（ステップ：0.05）
     - メッセージバブルの透明度が変更可能（※文字色は変更なし）

  2. **ヘッダーとフッターの透明度**
     - 同様に `0.0～1.0` の設定が可能（※文字色・アイコン色は変更なし）
     - チャット背景オーバーレイの透明度も変更可能
### 【2025/05/14】
- テーマにパステルカラー5種を追加
- ヘッダーにクリップボードスタックボタン🗒️を追加（セッション内でコピーボタンを押すと自動で累積的に欄にテキスト一時スタック）
- ヘッダーにスクロールの上下移動ボタン🔼🔽を追加
- SNS的なチャットアイコン機能を実装
- ワンタップ（多分）でクリップボードのテキストをメッセージ入力欄にペーストできるボタンを、入力欄の左隣に追加
### 【2025/05/14】
- 「メッセージ送信/受信時の自動スクロール」をオン/オフするオプションを追加しました
  
---

- **コード量を抑えるため、全コード内コメントを削除しました。**

---

### ■ 注意事項
-  ※当フォークは私用目的のため、性質上、サポートは行われません。本コードの編集・仕様変更のプロセスにおいて予告・告知などは行いません。また、本コードの更新は予告なく終了します。
-  本コードはスマホブラウザ上での使用を想定としております。アプリ化やWindows上でのローカル使用などについてはデバッグしておりません。
-  ボタン類は必要な物のみ表示オンにしてください。（ヘッダーを圧迫し溢れるため）
-  PWA使用中に解決困難な問題が生じた場合は本PWAに関するキャッシュを全て削除することを推奨致します。
-  Gemini以外のAPIに私共のコード改修で対応する予定はありません。
-  本コードはフォーク元の後継となることを断じて意図するものではありません。個人的なバリュエーションのひとつと捉えてください。
-  フォーク元コードの製作者様を除き、ご質問・ご意見・ご要望は承りません。 また、本コードによって損害や影響が生じた場合においても、公開陣は一切の責任を負いません。
-  本コードの利用基準（本コードの改変、コードのフォーク、他コードへのコード流用など）は、本コードのフォーク元の基準に準じます。


# Gemini PWA Client

このリポジトリは、PWA（Progressive Web App）で作られたGemini APIのクライアントアプリケーションです。  
PWAとは実体がhtmlなだけの簡易アプリです。ブラウザがあれば使えます。
単純な文字チャット機能だけでファイルや画像関連の機能はありません。

## 使い方

Github Pagesで公開されたこのページにアクセスするだけです。  

[index.htmlへのリンク(Github Pages)](https://ona-oni.github.io/geminipwa/)
※このリポジトリの内容が静的にアクセスできる

1. GeminiのAPIキーを準備。
2. 上のリンクにアクセス。
3. 設定画面にGemini APIキーを設定して設定を保存。
4. チャット画面からチャット。

## PCのローカルでホストする
Webサイト上のは信用ならんからローカルで使いたい！という人はWindowsのみ下記の方法で使えます。
1. このリポジトリの全ファイルをダウンロードして同じフォルダ内に配置  
（サイト上部の緑の「Code」から「Download ZIP」）
2. __winlocal.batを起動
3. batのプロンプトが開いている間はローカルhttpサーバーからindex.htmlへアクセス可能

## ブラウザからPWAをアプリとしてインストール(任意)
PWAアプリとしてインストールするとアプリアイコンを作成できます。  
ブラウザにより挙動は違いますが、アドレスバーの横や設定ボタンなどから「XXをインストール」の項目を探してください。    
(モバイル用Chromeなら「ホーム画面に追加」が上記操作に相当）  
インストールしなくてもブラウザはPWAアプリをPWAアプリとして扱います。

## ファイルの説明
* manifest.json : PWAアプリの定義
* index.html : アプリそのもの
* sw.js : PWAサービスワーカー(PWAアプリとしてのファイルキャッシュなどを管理)
* marked.js : マークダウン表示用ライブラリ(MIT Lic)  

sw.jsのおかげで一度アクセスしたらブラウザ内に必要ファイル(「index.html」や「manifest.json」など)がキャッシュされる  
一度キャッシュされたら、設定から更新しない限り更新されない

## データの保存と通信について
* 設定やチャット履歴含む全てのデータはローカルのIndexedDBに保存されます。  
（ブラウザの中のデータベース。Github Pagesの当リポジトリのオリジン)
* 通信はGeminiAPIとしか行いません。(検索機能はGemini側の機能です)
* 履歴は履歴一覧からテキストファイルとしてエクスポートできます  
逆(インポート)は今のところ~~できません~~できます  
注:現状、アップロードされたファイルはエクスポートtxtには含まれません

## Dependencies
This project uses the following third-party libraries:

*   **Marked.js:** [MIT License](https://github.com/markedjs/marked/blob/master/LICENSE.md) - Used for rendering Markdown.
